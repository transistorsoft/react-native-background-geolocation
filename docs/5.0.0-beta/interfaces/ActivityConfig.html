<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ActivityConfig | react-native-background-geolocation@5.0.0-beta.2</title><link rel="icon" href="../assets/favicon.ico"/><meta name="description" content="Documentation for react-native-background-geolocation@5.0.0-beta.2"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">react-native-background-geolocation@5.0.0-beta.2</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">ActivityConfig</a></li></ul><h1>Interface ActivityConfig</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Activity Recognition configuration.</p>
<p>The <a href="#" class="tsd-kind-interface">ActivityConfig</a> object defines options related to motion and activity detection
for the <a href="BackgroundGeolocation.html" class="tsd-kind-interface">BackgroundGeolocation</a> SDK. These parameters control how the SDK interprets
transitions between <em>moving</em> and <em>stationary</em> states using platform motion APIs
(Android Activity Recognition / iOS Core Motion).</p>
<p><strong>Overview</strong></p>
<p><a href="#" class="tsd-kind-interface">ActivityConfig</a> is supplied via <a href="Config.html#activity" class="tsd-kind-property">Config.activity</a> when calling
<a href="BackgroundGeolocation.html#ready" class="tsd-kind-method">BackgroundGeolocation.ready</a> or <a href="BackgroundGeolocation.html#setconfig" class="tsd-kind-method">BackgroundGeolocation.setConfig</a>.</p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Motion Detection</td>
<td>Tune recognition cadence and sensitivity via <a href="#activityrecognitioninterval" class="tsd-kind-property">ActivityConfig.activityRecognitionInterval</a> <em>(Android)</em> and <a href="#minimumactivityrecognitionconfidence" class="tsd-kind-property">ActivityConfig.minimumActivityRecognitionConfidence</a> <em>(Android)</em>.</td>
</tr>
<tr>
<td>Behavioral Options</td>
<td>Control movingâ†”stationary transitions with <a href="#disablestopdetection" class="tsd-kind-property">ActivityConfig.disableStopDetection</a> <em>(cross-platform behavioral)</em>, <a href="#stoponstationary" class="tsd-kind-property">ActivityConfig.stopOnStationary</a> <em>(cross-platform behavioral)</em>, and <a href="#motiontriggerdelay" class="tsd-kind-property">ActivityConfig.motionTriggerDelay</a> <em>(Android)</em>.</td>
</tr>
<tr>
<td>Motion Updates Toggle</td>
<td>Enable/disable platform activity updates with <a href="#disablemotionactivityupdates" class="tsd-kind-property">ActivityConfig.disableMotionActivityUpdates</a> <em>(Android &amp; iOS)</em>.</td>
</tr>
<tr>
<td>iOS Timing</td>
<td>Fine-tune stop-detection timing with <a href="#stopdetectiondelay" class="tsd-kind-property">ActivityConfig.stopDetectionDelay</a> <em>(iOS)</em>.</td>
</tr>
</tbody>
</table>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-0">type</span><span class="hl-1"> </span><span class="hl-2">Config</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">type</span><span class="hl-1"> </span><span class="hl-2">ActivityConfig</span><br/><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;react-native-background-geolocation&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">activity</span><span class="hl-1">: </span><span class="hl-6">ActivityConfig</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-9">// Android: poll activity recognition every 10s</span><br/><span class="hl-1">  </span><span class="hl-2">activityRecognitionInterval:</span><span class="hl-1"> </span><span class="hl-7">10000</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-9">// Android: require â‰¥75% confidence before changing activity</span><br/><span class="hl-1">  </span><span class="hl-2">minimumActivityRecognitionConfidence:</span><span class="hl-1"> </span><span class="hl-7">75</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-9">// Cross-platform: enable/disable automatic stop detection</span><br/><span class="hl-1">  </span><span class="hl-2">disableStopDetection:</span><span class="hl-1"> </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-9">// Cross-platform: automatically stop when stationary</span><br/><span class="hl-1">  </span><span class="hl-2">stopOnStationary:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-9">// Android: delay motion-trigger transitions by 30s</span><br/><span class="hl-1">  </span><span class="hl-2">motionTriggerDelay:</span><span class="hl-1"> </span><span class="hl-7">30000</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-9">// Android &amp; iOS: disable platform motion activity APIs</span><br/><span class="hl-1">  </span><span class="hl-2">disableMotionActivityUpdates:</span><span class="hl-1"> </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-9">// iOS: delay stop-detection by 10s</span><br/><span class="hl-1">  </span><span class="hl-2">stopDetectionDelay:</span><span class="hl-1"> </span><span class="hl-7">10000</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">config</span><span class="hl-1">: </span><span class="hl-6">Config</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">activity</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">ready</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>Migrating from legacy <code>Config</code></strong></p>
<p>Older versions of the SDK placed activity-recognition parameters directly
on the root <a href="Config.html" class="tsd-kind-interface">Config</a> object:</p>
<pre><code class="ts"><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">ready</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">activityRecognitionInterval:</span><span class="hl-1"> </span><span class="hl-7">10000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">disableStopDetection:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">stopOnStationary:</span><span class="hl-1"> </span><span class="hl-4">true</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>These values are now grouped under <a href="#" class="tsd-kind-interface">ActivityConfig</a>:</p>
<pre><code class="ts"><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">ready</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">activity:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">activityRecognitionInterval:</span><span class="hl-1"> </span><span class="hl-7">10000</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">disableStopDetection:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">stopOnStationary:</span><span class="hl-1"> </span><span class="hl-4">true</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>See also</strong></p>
<ul>
<li><a href="Config.html#activity" class="tsd-kind-property">Config.activity</a> for where this configuration is supplied.</li>
</ul>
</div></div></section><div class="tsd-signature"><span class="tsd-signature-keyword">interface</span> <span class="tsd-kind-interface">ActivityConfig</span> <span class="tsd-signature-symbol">{</span><br/>Â Â Â Â <a class="tsd-kind-property" href="#activityrecognitioninterval">activityRecognitionInterval</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span><br/>Â Â Â Â <a class="tsd-kind-property" href="#minimumactivityrecognitionconfidence">minimumActivityRecognitionConfidence</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span><br/>Â Â Â Â <a class="tsd-kind-property" href="#disablestopdetection">disableStopDetection</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>Â Â Â Â <a class="tsd-kind-property" href="#stoponstationary">stopOnStationary</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>Â Â Â Â <a class="tsd-kind-property" href="#motiontriggerdelay">motionTriggerDelay</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span><br/>Â Â Â Â <a class="tsd-kind-property" href="#triggeractivities">triggerActivities</a><span class="tsd-signature-symbol">?:</span> <a href="../variables/TriggerActivity.html" class="tsd-signature-type tsd-kind-variable">TriggerActivity</a> <span class="tsd-signature-symbol">|</span> <a href="../variables/TriggerActivity.html" class="tsd-signature-type tsd-kind-variable">TriggerActivity</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">;</span><br/>Â Â Â Â <a class="tsd-kind-property" href="#disablemotionactivityupdates">disableMotionActivityUpdates</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>Â Â Â Â <a class="tsd-kind-property" href="#stopdetectiondelay">stopDetectionDelay</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span><br/><span class="tsd-signature-symbol">}</span></div><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="#activityrecognitioninterval" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>activity<wbr/>Recognition<wbr/>Interval?</span></a>
<a href="#minimumactivityrecognitionconfidence" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>minimum<wbr/>Activity<wbr/>Recognition<wbr/>Confidence?</span></a>
<a href="#disablestopdetection" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>disable<wbr/>Stop<wbr/>Detection?</span></a>
<a href="#stoponstationary" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>stop<wbr/>On<wbr/>Stationary?</span></a>
<a href="#motiontriggerdelay" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>motion<wbr/>Trigger<wbr/>Delay?</span></a>
<a href="#triggeractivities" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>trigger<wbr/>Activities?</span></a>
<a href="#disablemotionactivityupdates" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>disable<wbr/>Motion<wbr/>Activity<wbr/>Updates?</span></a>
<a href="#stopdetectiondelay" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>stop<wbr/>Detection<wbr/>Delay?</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Properties</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="activityrecognitioninterval"><code class="tsd-tag">Optional</code><span>activity<wbr/>Recognition<wbr/>Interval</span><a href="#activityrecognitioninterval" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">activityRecognitionInterval</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-comment tsd-typography"><p>Interval (ms) between motion-activity updates.
Default: <code>10000</code></p>
</div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="minimumactivityrecognitionconfidence"><code class="tsd-tag">Optional</code><span>minimum<wbr/>Activity<wbr/>Recognition<wbr/>Confidence</span><a href="#minimumactivityrecognitionconfidence" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">minimumActivityRecognitionConfidence</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-comment tsd-typography"><p>Minimum motion-activity confidence (0â€“100) required to trigger a state change (Android only).
Default: <code>75</code></p>
</div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="disablestopdetection"><code class="tsd-tag">Optional</code><span>disable<wbr/>Stop<wbr/>Detection</span><a href="#disablestopdetection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">disableStopDetection</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-comment tsd-typography"><p>Disable motion-activity related stop-detection.</p>
<p><strong>iOS:</strong></p>
<p>Disables the accelerometer-based <strong>Stop-detection System</strong>.  When disabled, the plugin will use the default iOS behavior of automatically
turning off location-services when the device has stopped for <strong>exactly 15 minutes</strong>.  When disabled, you will no longer have control over <a href="GeoConfig.html#stoptimeout" class="tsd-kind-property">GeoConfig.stopTimeout</a>.</p>
<p>To <em>completely</em> disable automatically turning off iOS location-services, you must also provide <a href="GeoConfig.html#pauseslocationupdatesautomatically" class="tsd-kind-property">GeoConfig.pausesLocationUpdatesAutomatically</a> <strong><code>false</code></strong>.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">ready</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">disableStopDetection:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">pausesLocationUpdatesAutomatically:</span><span class="hl-1"> </span><span class="hl-4">false</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>âš ï¸ iOS location-services will <strong>never</strong> turn off!</strong></p>
<p>With the above configuration, iOS location-services will never turn off and you could <strong>quickly discharge the battery</strong>.  Do <strong>not</strong> do
this unless you know <em>exactly</em> what you're doing (eg: A jogging app with <code>[Start workout]</code> / <code>[Stop Workout]</code> buttons
executing <a href="BackgroundGeolocation.html#changepace" class="tsd-kind-method">BackgroundGeolocation.changePace</a>).</p>
<p><strong>iOS Stop-detection timing</strong></p>
<p><img src="https://dl.dropboxusercontent.com/s/ojjdfkmua15pskh/ios-stop-detection-timing.png?dl=1" alt=""></p>
<p><strong>Android</strong></p>
<p>Location-services <strong>will never turn OFF</strong> if you set this to <strong><code>true</code></strong>!  It will be purely up to you or the user to execute
<a href="BackgroundGeolocation.html#changepace" class="tsd-kind-method">BackgroundGeolocation.changePace</a> <strong><code>false</code></strong> or <a href="BackgroundGeolocation.html#stop" class="tsd-kind-method">BackgroundGeolocation.stop</a> to turn off location-services.</p>
</div></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="stoponstationary"><code class="tsd-tag">Optional</code><span>stop<wbr/>On<wbr/>Stationary</span><a href="#stoponstationary" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">stopOnStationary</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-comment tsd-typography"><p>Automatically <a href="BackgroundGeolocation.html#stop" class="tsd-kind-method">BackgroundGeolocation.stop</a> when the <a href="GeoConfig.html#stoptimeout" class="tsd-kind-property">GeoConfig.stopTimeout</a> elapses.</p>
<p>The plugin can optionally automatically stop tracking when the <a href="GeoConfig.html#stoptimeout" class="tsd-kind-property">GeoConfig.stopTimeout</a> timer elapses.  For example, when the plugin
first fires <a href="BackgroundGeolocation.html#onmotionchange" class="tsd-kind-method">BackgroundGeolocation.onMotionChange</a> into the <em>moving</em> state, the next time an <em>onMotionChange</em> event occurs
into the <em>stationary</em> state, the plugin will have automatically called <a href="BackgroundGeolocation.html#stop" class="tsd-kind-method">BackgroundGeolocation.stop</a> upon itself.</p>
<p>âš ï¸ <code>stopOnStationary</code> will <strong>only</strong> occur due to <a href="GeoConfig.html#stoptimeout" class="tsd-kind-property">GeoConfig.stopTimeout</a> timer elapse.  It will <strong>not</strong> occur by manually executing
<a href="BackgroundGeolocation.html#changepace" class="tsd-kind-method">BackgroundGeolocation.changePace</a> <strong><code>false</code></strong>.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-2">Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">ready</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">stopOnStationary:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">isMoving:</span><span class="hl-1"> </span><span class="hl-4">true</span><br/><span class="hl-1">}, (</span><span class="hl-2">state</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">start</span><span class="hl-1">();</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="motiontriggerdelay"><code class="tsd-tag">Optional</code><span>motion<wbr/>Trigger<wbr/>Delay</span><a href="#motiontriggerdelay" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">motionTriggerDelay</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-comment tsd-typography"><p><strong><code>[Android only]</code></strong>  Optionally add a delay in milliseconds to trigger Android into the <em>moving</em> state when Motion API reports the device is moving (eg: <code>on_foot</code>, <code>in_vehicle</code>)</p>
<p>This can help prevent false-positive motion-triggering when one moves about their home, for example.  Only if the Motion API stays in the <em>moving</em> state for <code>motionTriggerDelay</code> milliseconds will the plugin trigger into the <em>moving</em> state and begin tracking the location.
If the Motion API returns to the <code>still</code> state before <code>motionTriggerDelay</code> times-out, the trigger to the <em>moving</em> state will be cancelled.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-3">Example<a href="#example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Delay Android motion-triggering by 30000ms</span><br/><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">ready</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">motionTriggerDelay:</span><span class="hl-1"> </span><span class="hl-7">30000</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<p>The following <code>logcat</code> shows an Android device detecting motion <strong><code>on_foot</code></strong> but returning to <strong><code>still</code></strong> before <strong><code>motionTriggerDelay</code></strong> expires, cancelling the transition to the <em>moving</em> state (see <code>â° Cancel OneShot: MOTION_TRIGGER_DELAY</code>):</p>
<p><strong>Logcat</strong></p>
<pre><code class="bash"><span class="hl-1"> </span><span class="hl-8">04-08</span><span class="hl-1"> </span><span class="hl-3">10:58:03.419</span><span class="hl-1"> </span><span class="hl-3">TSLocationManager:</span><span class="hl-1"> </span><span class="hl-3">â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br/><span class="hl-1"> </span><span class="hl-8">04-08</span><span class="hl-1"> </span><span class="hl-3">10:58:03.419</span><span class="hl-1"> </span><span class="hl-3">TSLocationManager:</span><span class="hl-1"> </span><span class="hl-3">â•‘</span><span class="hl-1"> </span><span class="hl-3">Motion</span><span class="hl-1"> </span><span class="hl-3">Transition</span><span class="hl-1"> </span><span class="hl-3">Result</span><br/><span class="hl-1"> </span><span class="hl-8">04-08</span><span class="hl-1"> </span><span class="hl-3">10:58:03.419</span><span class="hl-1"> </span><span class="hl-3">TSLocationManager:</span><span class="hl-1"> </span><span class="hl-3">â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br/><span class="hl-1"> </span><span class="hl-8">04-08</span><span class="hl-1"> </span><span class="hl-3">10:58:03.419</span><span class="hl-1"> </span><span class="hl-3">TSLocationManager:</span><span class="hl-1"> </span><span class="hl-3">â•Ÿâ”€</span><span class="hl-1"> </span><span class="hl-3">ğŸ”´</span><span class="hl-1">  </span><span class="hl-3">EXIT:</span><span class="hl-1"> </span><span class="hl-3">still</span><br/><span class="hl-1"> </span><span class="hl-8">04-08</span><span class="hl-1"> </span><span class="hl-3">10:58:03.419</span><span class="hl-1"> </span><span class="hl-3">TSLocationManager:</span><span class="hl-1"> </span><span class="hl-3">â•Ÿâ”€</span><span class="hl-1"> </span><span class="hl-3">ğŸ¾</span><span class="hl-1">  </span><span class="hl-3">ENTER:</span><span class="hl-1"> </span><span class="hl-3">on_foot</span><br/><span class="hl-1"> </span><span class="hl-8">04-08</span><span class="hl-1"> </span><span class="hl-3">10:58:03.419</span><span class="hl-1"> </span><span class="hl-3">TSLocationManager:</span><span class="hl-1"> </span><span class="hl-3">â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br/><span class="hl-1"> </span><span class="hl-8">04-08</span><span class="hl-1"> </span><span class="hl-3">10:58:03.416</span><span class="hl-1"> </span><span class="hl-3">TSLocationManager:</span><span class="hl-1">   </span><span class="hl-3">â°</span><span class="hl-1"> </span><span class="hl-3">Scheduled</span><span class="hl-1"> </span><span class="hl-3">OneShot:</span><span class="hl-1"> </span><span class="hl-3">MOTION_TRIGGER_DELAY</span><span class="hl-1"> </span><span class="hl-3">in</span><span class="hl-1"> </span><span class="hl-3">30000ms</span><br/><span class="hl-1"> </span><span class="hl-8">.</span><br/><span class="hl-1"> </span><span class="hl-8">.</span><span class="hl-1"> &lt;</span><span class="hl-3">motionTriggerDelay</span><span class="hl-1"> </span><span class="hl-3">timer</span><span class="hl-1"> </span><span class="hl-3">starte</span><span class="hl-1">d&gt;</span><br/><span class="hl-1"> </span><span class="hl-8">.</span><br/><span class="hl-1"> </span><span class="hl-8">04-08</span><span class="hl-1"> </span><span class="hl-3">10:58:19.385</span><span class="hl-1"> </span><span class="hl-3">TSLocationManager:</span><span class="hl-1"> </span><span class="hl-3">â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br/><span class="hl-1"> </span><span class="hl-8">04-08</span><span class="hl-1"> </span><span class="hl-3">10:58:19.385</span><span class="hl-1"> </span><span class="hl-3">TSLocationManager:</span><span class="hl-1"> </span><span class="hl-3">â•‘</span><span class="hl-1"> </span><span class="hl-3">Motion</span><span class="hl-1"> </span><span class="hl-3">Transition</span><span class="hl-1"> </span><span class="hl-3">Result</span><br/><span class="hl-1"> </span><span class="hl-8">04-08</span><span class="hl-1"> </span><span class="hl-3">10:58:19.385</span><span class="hl-1"> </span><span class="hl-3">TSLocationManager:</span><span class="hl-1"> </span><span class="hl-3">â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br/><span class="hl-1"> </span><span class="hl-8">04-08</span><span class="hl-1"> </span><span class="hl-3">10:58:19.385</span><span class="hl-1"> </span><span class="hl-3">TSLocationManager:</span><span class="hl-1"> </span><span class="hl-3">â•Ÿâ”€</span><span class="hl-1"> </span><span class="hl-3">ğŸ”´</span><span class="hl-1">  </span><span class="hl-3">EXIT:</span><span class="hl-1"> </span><span class="hl-3">on_foot</span><br/><span class="hl-1"> </span><span class="hl-8">04-08</span><span class="hl-1"> </span><span class="hl-3">10:58:19.385</span><span class="hl-1"> </span><span class="hl-3">TSLocationManager:</span><span class="hl-1"> </span><span class="hl-3">â•Ÿâ”€</span><span class="hl-1"> </span><span class="hl-3">ğŸ¾</span><span class="hl-1">  </span><span class="hl-3">ENTER:</span><span class="hl-1"> </span><span class="hl-3">still</span><br/><span class="hl-1"> </span><span class="hl-8">04-08</span><span class="hl-1"> </span><span class="hl-3">10:58:19.385</span><span class="hl-1"> </span><span class="hl-3">TSLocationManager:</span><span class="hl-1"> </span><span class="hl-3">â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br/><span class="hl-1"> </span><span class="hl-8">04-08</span><span class="hl-1"> </span><span class="hl-3">10:58:19.381</span><span class="hl-1"> </span><span class="hl-3">TSLocationManager:</span><span class="hl-1"> [c.t.l.s.TSScheduleManager </span><span class="hl-3">cancelOneShot]</span><br/><span class="hl-1"> </span><span class="hl-8">04-08</span><span class="hl-1"> </span><span class="hl-3">10:58:19.381</span><span class="hl-1"> </span><span class="hl-3">TSLocationManager:</span><span class="hl-1">   </span><span class="hl-3">â°</span><span class="hl-1"> </span><span class="hl-3">Cancel</span><span class="hl-1"> </span><span class="hl-3">OneShot:</span><span class="hl-1"> </span><span class="hl-3">MOTION_TRIGGER_DELAY</span><span class="hl-1"> &lt;</span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-3">timer</span><span class="hl-1"> </span><span class="hl-3">cancelled</span>
</code><button type="button">Copy</button></pre>

</div></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="triggeractivities"><code class="tsd-tag">Optional</code><span>trigger<wbr/>Activities</span><a href="#triggeractivities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">triggerActivities</span><span class="tsd-signature-symbol">?:</span> <a href="../variables/TriggerActivity.html" class="tsd-signature-type tsd-kind-variable">TriggerActivity</a> <span class="tsd-signature-symbol">|</span> <a href="../variables/TriggerActivity.html" class="tsd-signature-type tsd-kind-variable">TriggerActivity</a><span class="tsd-signature-symbol">[]</span></div><div class="tsd-comment tsd-typography"><p>Configures a comma-separated list of motion-activities which are allow to trigger location-tracking.</p>
<p><strong>âš ï¸ Warning:</strong> Requires that the user grant your app the &quot;<em>Motion/Health</em>&quot; permission.</p>
<p>These are the comma-delimited list of <a href="https://developers.google.com/android/reference/com/google/android/gms/location/DetectedActivity">activity-names</a> returned by the <code>ActivityRecognition</code> API which will trigger a state-change from <strong>stationary</strong> to <strong>moving</strong>.  By default, the plugin will trigger on <strong>any</strong> of the <strong>moving-states</strong>:</p>
<table>
<thead>
<tr>
<th>Activity Name</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>in_vehicle</code></td>
</tr>
<tr>
<td><code>on_bicycle</code></td>
</tr>
<tr>
<td><code>on_foot</code></td>
</tr>
<tr>
<td><code>running</code></td>
</tr>
<tr>
<td><code>walking</code></td>
</tr>
</tbody>
</table>
<p>See <a href="../variables/TriggerActivity.html" class="tsd-kind-variable">TriggerActivity</a> for all allowed activity names.</p>
<p>If you wish, you can configure the plugin to only engage the <strong>moving</strong> state for vehicles-only by providing just <code>&quot;in_vehicle&quot;</code>, for example.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-4">Example<a href="#example-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Only trigger tracking for vehicles</span><br/><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">ready</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">triggerActivities:</span><span class="hl-1"> </span><span class="hl-3">&quot;in_vehicle&quot;</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-9">// Only trigger tracking for on_foot, walking and running</span><br/><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">ready</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">triggerActivities:</span><span class="hl-1"> </span><span class="hl-3">&quot;on_foot, walking, running&quot;</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="disablemotionactivityupdates"><code class="tsd-tag">Optional</code><span>disable<wbr/>Motion<wbr/>Activity<wbr/>Updates</span><a href="#disablemotionactivityupdates" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">disableMotionActivityUpdates</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-comment tsd-typography"><p>Disable the plugin requesting &quot;Motion &amp; Fitness&quot; (ios) or &quot;Physical Activity&quot; (android &gt;= 10) authorization from the User.</p>
<p>Defaults to <strong><code>false</code></strong>.  Set to <strong><code>true</code></strong> to disable asking the user for this permission.</p>
<p><strong>iOS</strong></p>
<p><img src="https://dl.dropbox.com/s/v3qt7ry1k4b3iir/ios-motion-permission.png?dl=1" alt=""></p>
<p>The plugin is <strong>HIGHLY</strong> optimized for motion-activity-updates.  If you <strong>do</strong> disable this, the plugin <em>will</em> drain more battery power.  You are <strong>STRONGLY</strong> advised against disabling this.  You should explain to your users with an appropriate <code>NSMotionUsageDescription</code> in your <code>Info.plist</code> file, for example:</p>
<blockquote>
<p>&quot;Motion activity detection increases battery efficiency by intelligently toggling location-tracking&quot; off when your device is detected to be stationary.</p>
</blockquote>
<p><strong>Android</strong></p>
<p>Android 10+ now requires run-time permission from the user for &quot;Physical Activity&quot;.</p>
<p><img src="https://dl.dropbox.com/s/6v4391oz592bdjg/android-permission-physical-activity.png?dl=1" alt=""></p>
<p>Traditionally, the <code>background-geolocation</code> Android SDK has relied heavily upon the Motion API for determining when to toggle location-services on/off based upon whether the device is <em>moving</em> vs <em>stationary</em>.
However, the Android SDK has a fallback &quot;stationary geofence&quot; mechanism just like iOS, the exit of which will cause the plugin to change to the <em>moving</em> state, toggle location-services and begin tracking.  This will, of course, require the device moves a distance of typically <strong>200-500 meters</strong> before tracking engages.  With the Motion API authorized, the Android SDK typically requires just <strong>a few meters</strong> of movement for tracking to engage.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-5">Example<a href="#example-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">ready</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">disableMotionActivityUpdates:</span><span class="hl-1"> </span><span class="hl-4">true</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="stopdetectiondelay"><code class="tsd-tag">Optional</code><span>stop<wbr/>Detection<wbr/>Delay</span><a href="#stopdetectiondelay" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">stopDetectionDelay</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-comment tsd-typography"><p><strong><code>[iOS only]</code></strong> Allows the iOS stop-detection system to be delayed from activating.</p>
<p>Defaults to <strong><code>0</code></strong> (no delay).  Allows the stop-detection system to be delayed from activating.  When the stop-detection system <em>is</em> engaged, location-services will be temporarily turned <strong>off</strong> and only the accelerometer is monitored.  Stop-detection will only engage if this timer expires.  The timer is cancelled if any movement is detected before expiration.  If a value of <strong><code>0</code></strong> is specified, the stop-detection system will engage as soon as the device is detected to be stationary.</p>
<p>You can experience the iOS stop-detection system at work by configuring <a href="LoggerConfig.html#debug" class="tsd-kind-property">LoggerConfig.debug</a> <strong><code>true</code></strong>.  After the device stops moving (stopped at a traffic light, for example), the plugin will emit a <em>Lullabye</em> sound-effect and local-notifications about &quot;Location-services: OFF / ON&quot;.</p>
<p><strong>iOS Stop-detection timing</strong></p>
<p><img src="https://dl.dropboxusercontent.com/s/ojjdfkmua15pskh/ios-stop-detection-timing.png?dl=1" alt=""></p>
</div></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#activityrecognitioninterval"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>activity<wbr/>Recognition<wbr/>Interval</span></a><a href="#minimumactivityrecognitionconfidence"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>minimum<wbr/>Activity<wbr/>Recognition<wbr/>Confidence</span></a><a href="#disablestopdetection"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>disable<wbr/>Stop<wbr/>Detection</span></a><a href="#stoponstationary"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>stop<wbr/>On<wbr/>Stationary</span></a><a href="#motiontriggerdelay"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>motion<wbr/>Trigger<wbr/>Delay</span></a><a href="#triggeractivities"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>trigger<wbr/>Activities</span></a><a href="#disablemotionactivityupdates"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>disable<wbr/>Motion<wbr/>Activity<wbr/>Updates</span></a><a href="#stopdetectiondelay"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>stop<wbr/>Detection<wbr/>Delay</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html">react-native-background-geolocation@5.0.0-beta.2</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
