<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Geofence | react-native-background-geolocation@5.0.0-beta.1</title><link rel="icon" href="../assets/favicon.ico"/><meta name="description" content="Documentation for react-native-background-geolocation@5.0.0-beta.1"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">react-native-background-geolocation@5.0.0-beta.1</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">Geofence</a></li></ul><h1>Interface Geofence</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>The Background Geolocation SDK implements the native iOS and Android Geofencing APIs.</p>
<p><strong>ℹ️ Note:</strong></p>
<ul>
<li>Native iOS &amp; Android API support only <em>circular</em> geofences, however the plugin does implement a custom mechanism for handling <em>Polygon Geofences</em>; see <a href="#vertices" class="tsd-kind-property">Geofence.vertices</a>.</li>
<li>The minimum reliable <a href="#radius" class="tsd-kind-property">Geofence.radius</a> is <code>200</code> meters.</li>
<li>The native geofencing API for both iOS and Android <em>require</em> the user authorize <a href="GeoConfig.html#locationauthorizationrequest" class="tsd-kind-property">GeoConfig.locationAuthorizationRequest</a> <strong><code>Always</code></strong> — <strong><code>When in Use</code></strong> will <strong>not</strong> work.</li>
</ul>
<p><strong>Adding Geofences</strong></p>
<p>Adding a single geofence with <a href="BackgroundGeolocation.html#addgeofence" class="tsd-kind-method">BackgroundGeolocation.addGeofence</a>.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">addGeofence</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">identifier:</span><span class="hl-1"> </span><span class="hl-3">&quot;Home&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">radius:</span><span class="hl-1"> </span><span class="hl-7">200</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">latitude:</span><span class="hl-1"> </span><span class="hl-7">45.51921926</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">longitude:</span><span class="hl-1"> -</span><span class="hl-7">73.61678581</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">notifyOnEntry:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">notifyOnExit:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">extras:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">route_id:</span><span class="hl-1"> </span><span class="hl-7">1234</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}).</span><span class="hl-8">then</span><span class="hl-1">((</span><span class="hl-2">success</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-3">&quot;[addGeofence] success&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">}).</span><span class="hl-8">catch</span><span class="hl-1">((</span><span class="hl-2">error</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-3">&quot;[addGeofence] FAILURE: &quot;</span><span class="hl-1">, </span><span class="hl-2">error</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Adding multiple geofences with <a href="BackgroundGeolocation.html#addgeofences" class="tsd-kind-method">BackgroundGeolocation.addGeofences</a>.</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">addGeofences</span><span class="hl-1">([{</span><br/><span class="hl-1">  </span><span class="hl-2">identifier:</span><span class="hl-1"> </span><span class="hl-3">&quot;Home&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">radius:</span><span class="hl-1"> </span><span class="hl-7">200</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">latitude:</span><span class="hl-1"> </span><span class="hl-7">45.51921926</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">longitude:</span><span class="hl-1"> -</span><span class="hl-7">73.61678581</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">notifyOnEntry:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">}, {</span><br/><span class="hl-1">  </span><span class="hl-2">identifier:</span><span class="hl-1"> </span><span class="hl-3">&quot;Work&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">radius:</span><span class="hl-1"> </span><span class="hl-7">200</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">latitude:</span><span class="hl-1"> </span><span class="hl-7">45.61921927</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">longitude:</span><span class="hl-1"> -</span><span class="hl-7">73.71678582</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">notifyOnEntry:</span><span class="hl-1"> </span><span class="hl-4">true</span><br/><span class="hl-1">}]);</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-3">&quot;[addGeofences] success&quot;</span><span class="hl-1">);</span><br/>
</code><button type="button">Copy</button></pre>

<p><strong>ℹ️ Note:</strong> Adding a geofence having an <a href="#identifier" class="tsd-kind-property">Geofence.identifier</a> which already exists within the SDK geofence database will cause the previous record to be destroyed and the new one inserted.</p>
<p><strong>Listening for Geofence Events</strong></p>
<p>Listen to geofence events with <a href="BackgroundGeolocation.html#ongeofence" class="tsd-kind-method">BackgroundGeolocation.onGeofence</a>.</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-2">Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Listen for geofence events.</span><br/><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">onGeofence</span><span class="hl-1">(</span><span class="hl-2">geofence</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-3">&quot;[geofence] &quot;</span><span class="hl-1">, </span><span class="hl-2">geofence</span><span class="hl-1">.</span><span class="hl-2">identifier</span><span class="hl-1">, </span><span class="hl-2">geofence</span><span class="hl-1">.</span><span class="hl-2">action</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Polygon Geofencing</strong></p>
<p>The Background Geolocation SDK supports <em>Polygon Geofences</em> (Geofences of any shape).  See API docs <a href="#vertices" class="tsd-kind-property">Geofence.vertices</a>.</p>
<ul>
<li>ℹ️ <strong><em>Polygon Geofencing</em></strong> is <a href="https://shop.transistorsoft.com/products/polygon-geofencing">sold as a separate add-on</a> (fully functional in <em>DEBUG</em> builds).</li>
</ul>
<p><img src="https://dl.dropbox.com/scl/fi/sboshfvar0h41azmb4tyv/polygon-geofencing-parc-outremont-400.png?rlkey=d2s0n3zbzu72e7s2gch9kxd4a&amp;dl=1" alt="">
<img src="https://dl.dropbox.com/scl/fi/xz48myvjnpp8ko0l2tufg/polygon-geofencing-parc-lafontaine-400.png?rlkey=sf20ns959uj0a0fq0atmj55bz&amp;dl=1" alt=""></p>
<p><strong>Infinite Geofencing</strong></p>
<p>The Background Geolocation SDK contains unique and powerful Geofencing features that allow you to monitor any number of circular geofences you wish (thousands even),
in spite of limits imposed by the native platform APIs (<strong>20 for iOS; 100 for Android</strong>).</p>
<p>The SDK achieves this by storing your geofences in its database, using a <a href="https://en.wikipedia.org/wiki/Spatial_query">geospatial query</a> to determine those geofences
in proximity (<a href="GeoConfig.html#geofenceproximityradius" class="tsd-kind-property">GeoConfig.geofenceProximityRadius</a>), activating only those geofences closest to the device's current location (according the limit imposed by the corresponding platform).</p>
<ul>
<li>When the device is determined to be moving, the plugin periodically queries for geofences within the <a href="GeoConfig.html#geofenceproximityradius" class="tsd-kind-property">GeoConfig.geofenceProximityRadius</a> (eg. every minute) using the latest recorded location.  This geospatial query is <strong>very fast</strong>, even with tens-of-thousands geofences in the database.</li>
<li>The SDK <strong>enforces</strong> a <em>minimum</em> <a href="GeoConfig.html#geofenceproximityradius" class="tsd-kind-property">GeoConfig.geofenceProximityRadius</a> of <code>1000</code> meters.</li>
<li>In the following image, the <em>green</em> geofences within <a href="GeoConfig.html#geofenceproximityradius" class="tsd-kind-property">GeoConfig.geofenceProximityRadius</a> are <em>actively</em> monitored.  The <em>grey</em> geofences outside <a href="GeoConfig.html#geofenceproximityradius" class="tsd-kind-property">GeoConfig.geofenceProximityRadius</a> still exist within the SDK's database but are <em>not</em> actively being monitored.</li>
</ul>
<p><img src="https://dl.dropboxusercontent.com/s/7sggka4vcbrokwt/geofenceProximityRadius_iphone6_spacegrey_portrait.png?dl=1" alt=""></p>
<p><strong>Listening for changes in the actively-monitored set-of-geofences.</strong></p>
<p>As the SDK periodically queries for geofences within the <a href="GeoConfig.html#geofenceproximityradius" class="tsd-kind-property">GeoConfig.geofenceProximityRadius</a>, you can listen for changes in the actively-monitored
geofences using the event <a href="BackgroundGeolocation.html#ongeofenceschange" class="tsd-kind-method">BackgroundGeolocation.onGeofencesChange</a>.  This event will let you know those geofences which have <em>begun</em> to be <em>actively monitored</em>
(<a href="GeofencesChangeEvent.html#on" class="tsd-kind-property">GeofencesChangeEvent.on</a>) in addition to those which just <em>ceased</em> to be actively monitored (<a href="GeofencesChangeEvent.html#off" class="tsd-kind-property">GeofencesChangeEvent.off</a>).</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-3">Example<a href="#example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">onGeofencesChange</span><span class="hl-1">((</span><span class="hl-2">event</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-2">on</span><span class="hl-1"> = </span><span class="hl-2">event</span><span class="hl-1">.</span><span class="hl-2">on</span><span class="hl-1">;     </span><span class="hl-9">//&lt;-- new geofences activated.</span><br/><span class="hl-1">  </span><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-2">off</span><span class="hl-1"> = </span><span class="hl-2">event</span><span class="hl-1">.</span><span class="hl-2">off</span><span class="hl-1">; </span><span class="hl-9">//&lt;-- geofences that were just de-activated.</span><br/><br/><span class="hl-1">  </span><span class="hl-9">// Create map circles</span><br/><span class="hl-1">  </span><span class="hl-2">on</span><span class="hl-1">.</span><span class="hl-8">forEach</span><span class="hl-1">((</span><span class="hl-2">geofence</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">createGeofenceMarker</span><span class="hl-1">(</span><span class="hl-2">geofence</span><span class="hl-1">)</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-9">// Remove map circles</span><br/><span class="hl-1">  </span><span class="hl-2">off</span><span class="hl-1">.</span><span class="hl-8">forEach</span><span class="hl-1">((</span><span class="hl-2">identifier</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">removeGeofenceMarker</span><span class="hl-1">(</span><span class="hl-2">identifier</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>⚠️ Note:</strong></p>
<ul>
<li>When <strong>all</strong> geofences have been removed, the <a href="GeofencesChangeEvent.html" class="tsd-kind-interface">GeofencesChangeEvent</a> will provide empty lists for both <a href="GeofencesChangeEvent.html#on" class="tsd-kind-property">GeofencesChangeEvent.on</a> &amp; <a href="GeofencesChangeEvent.html#off" class="tsd-kind-property">GeofencesChangeEvent.off</a>.</li>
</ul>
<p><strong>Removing Geofences</strong></p>
<p>Once a geofence has been inserted into the SDK's database using <a href="BackgroundGeolocation.html#addgeofence" class="tsd-kind-method">BackgroundGeolocation.addGeofence</a> or <a href="BackgroundGeolocation.html#addgeofences" class="tsd-kind-method">BackgroundGeolocation.addGeofences</a>, they will be monitored <em>forever</em>
(as long as the plugin remains <code>State.enabled == true</code>).  If you've configured <a href="AppConfig.html#stoponterminate" class="tsd-kind-property">AppConfig.stopOnTerminate</a> <strong><code>false</code></strong> and <a href="AppConfig.html#startonboot" class="tsd-kind-property">AppConfig.startOnBoot</a> <strong><code>true</code></strong>, geofences will continue to
be monitored even if the application is terminated or device rebooted.</p>
<p>To cease monitoring a geofence or <em>geofences</em>, you must <em>remove</em> them from the SDK's database (or call <a href="BackgroundGeolocation.html#stop" class="tsd-kind-method">BackgroundGeolocation.stop</a>).</p>
<ul>
<li>Removing a single geofence by <a href="#identifier" class="tsd-kind-property">Geofence.identifier</a> with <a href="BackgroundGeolocation.html#removegeofence" class="tsd-kind-method">BackgroundGeolocation.removeGeofence</a>:</li>
</ul>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-4">Example<a href="#example-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">removeGeofence</span><span class="hl-1">(</span><span class="hl-3">&quot;HOME&quot;</span><span class="hl-1">).</span><span class="hl-8">then</span><span class="hl-1">(</span><span class="hl-2">success</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-3">&quot;[removeGeofence] success&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>Removing <em>all</em> geofences with <a href="BackgroundGeolocation.html#removegeofences" class="tsd-kind-method">BackgroundGeolocation.removeGeofences</a>:</li>
</ul>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-5">Example<a href="#example-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">removeGeofences</span><span class="hl-1">().</span><span class="hl-8">then</span><span class="hl-1">(</span><span class="hl-2">success</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-3">&quot;[removeGeofences] all geofences have been destroyed&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<p><strong>Querying Geofences</strong></p>
<p>Use the method <a href="BackgroundGeolocation.html#getgeofences" class="tsd-kind-method">BackgroundGeolocation.getGeofences</a> to retrieve the entire Array of <a href="#" class="tsd-kind-interface">Geofence</a> stored in the SDK's database.</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-6">Example<a href="#example-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">getGeofences</span><span class="hl-1">().</span><span class="hl-8">then</span><span class="hl-1">(</span><span class="hl-2">geofences</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-3">&quot;[getGeofences] &quot;</span><span class="hl-1">, </span><span class="hl-2">geofences</span><span class="hl-1">);</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<p><strong>Monitoring <em>only</em> geofences</strong></p>
<p>The BackgroundGeolocation SDK allows you to optionally monitor <em>only</em> geofences without constant location-tracking.  To engage <em>geofences-only</em> mode,
use the method <a href="BackgroundGeolocation.html#startgeofences" class="tsd-kind-method">BackgroundGeolocation.startGeofences</a> instead of <a href="BackgroundGeolocation.html#start" class="tsd-kind-method">BackgroundGeolocation.start</a>.</p>
<p>Use option <a href="GeoConfig.html#geofencemodehighaccuracy" class="tsd-kind-property">GeoConfig.geofenceModeHighAccuracy</a>:true to improve the responsiveness of geofence events.</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-7">Example<a href="#example-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">onGeofence</span><span class="hl-1">(</span><span class="hl-2">geofence</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-3">&quot;[geofence] &quot;</span><span class="hl-1">, </span><span class="hl-2">geofence</span><span class="hl-1">);</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">ready</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">http:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">url:</span><span class="hl-1"> </span><span class="hl-3">&quot;http://your.server.com/geofences&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">autoSync:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-2">geolocation:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">geofenceModeHighAccuracy:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">   </span><span class="hl-9">// &lt;-- consumes more power; default is false.</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}, </span><span class="hl-2">state</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">// engage geofences-only mode:</span><br/><span class="hl-1">  </span><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">startGeofences</span><span class="hl-1">();</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<p><strong>Toggling between tracking-modes <a href="BackgroundGeolocation.html#start" class="tsd-kind-method">BackgroundGeolocation.start</a> and <a href="BackgroundGeolocation.html#startgeofences" class="tsd-kind-method">BackgroundGeolocation.startGeofences</a></strong></p>
<p>The SDK can easily be toggled between <a href="State.html#trackingmode" class="tsd-kind-property">State.trackingMode</a> simply by executing the corresponding <a href="BackgroundGeolocation.html#start" class="tsd-kind-method">BackgroundGeolocation.start</a> or <a href="BackgroundGeolocation.html#startgeofences" class="tsd-kind-method">BackgroundGeolocation.startGeofences</a> methods.</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-8">Example<a href="#example-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Listen to geofence events</span><br/><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">onGeofence</span><span class="hl-1">(</span><span class="hl-2">geofence</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-3">&quot;[geofence] &quot;</span><span class="hl-1">, </span><span class="hl-2">geofence</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">geofence</span><span class="hl-1">.</span><span class="hl-2">identifier</span><span class="hl-1"> == </span><span class="hl-3">&quot;DANGER_ZONE&quot;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">geofence</span><span class="hl-1">.</span><span class="hl-2">action</span><span class="hl-1"> == </span><span class="hl-3">&quot;ENTER&quot;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-9">// Entering the danger-zone, we want to aggressively track location.</span><br/><span class="hl-1">      </span><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">start</span><span class="hl-1">();</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">geofence</span><span class="hl-1">.</span><span class="hl-2">action</span><span class="hl-1"> == </span><span class="hl-3">&quot;EXIT&quot;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-9">// Exiting the danger-zone, we resume geofences-only tracking.</span><br/><span class="hl-1">      </span><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">startGeofences</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-9">// Add a geofence.</span><br/><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">addGeofence</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">identifier:</span><span class="hl-1"> </span><span class="hl-3">&quot;DANGER_ZONE&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">radius:</span><span class="hl-1"> </span><span class="hl-7">1000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">latitude:</span><span class="hl-1"> </span><span class="hl-7">45.51921926</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">longitude:</span><span class="hl-1"> -</span><span class="hl-7">73.61678581</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">notifyOnEntry:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">notifyOnExit:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-9">// Ready the plugin.</span><br/><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">ready</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">geolocation:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">desiredAccuracy:</span><span class="hl-1"> </span><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-5">DESIRED_ACCURACY_HIGH</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">distanceFilter:</span><span class="hl-1"> </span><span class="hl-7">10</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-2">http:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">url:</span><span class="hl-1"> </span><span class="hl-3">&quot;http://your.server.com/locations&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">autoSync:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}, </span><span class="hl-2">state</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">startGeofences</span><span class="hl-1">();</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

</div></div></section><div class="tsd-signature"><span class="tsd-signature-keyword">interface</span> <span class="tsd-kind-interface">Geofence</span> <span class="tsd-signature-symbol">{</span><br/>    <a class="tsd-kind-property" href="#identifier">identifier</a><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#latitude">latitude</a><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#longitude">longitude</a><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#radius">radius</a><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#notifyonentry">notifyOnEntry</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#notifyonexit">notifyOnExit</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#notifyondwell">notifyOnDwell</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#loiteringdelay">loiteringDelay</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#extras">extras</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#vertices">vertices</a><span class="tsd-signature-symbol">?:</span> <a href="../types/Vertices.html" class="tsd-signature-type tsd-kind-type-alias">Vertices</a><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#entrystate">entryState</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#hits">hits</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#stateupdatedat">stateUpdatedAt</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span><br/><span class="tsd-signature-symbol">}</span></div><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="#identifier" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>identifier</span></a>
<a href="#latitude" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>latitude</span></a>
<a href="#longitude" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>longitude</span></a>
<a href="#radius" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>radius</span></a>
<a href="#notifyonentry" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>notify<wbr/>On<wbr/>Entry?</span></a>
<a href="#notifyonexit" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>notify<wbr/>On<wbr/>Exit?</span></a>
<a href="#notifyondwell" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>notify<wbr/>On<wbr/>Dwell?</span></a>
<a href="#loiteringdelay" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>loitering<wbr/>Delay?</span></a>
<a href="#extras" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>extras?</span></a>
<a href="#vertices" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>vertices?</span></a>
<a href="#entrystate" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>entry<wbr/>State?</span></a>
<a href="#hits" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>hits?</span></a>
<a href="#stateupdatedat" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>state<wbr/>Updated<wbr/>At?</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Properties</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="identifier"><span>identifier</span><a href="#identifier" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">identifier</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><div class="tsd-comment tsd-typography"><p>Unique geofence identifier.</p>
</div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="latitude"><span>latitude</span><a href="#latitude" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">latitude</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-comment tsd-typography"><p>Latitude of geofence center</p>
</div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="longitude"><span>longitude</span><a href="#longitude" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">longitude</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-comment tsd-typography"><p>Longitude of geofence center</p>
</div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="radius"><span>radius</span><a href="#radius" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">radius</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-comment tsd-typography"><p>Radius of the circular geofence.</p>
<p>⚠️ The minimum reliable <code>radius</code> is <strong><code>200</code></strong> meters.  Anything less will likely not cause a geofence to trigger.<br>
This is documented by Apple <a href="https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/LocationAwarenessPG/RegionMonitoring/RegionMonitoring.html">here</a>:</p>
<blockquote>
<p><em>&quot;The specific threshold distances are determined by the hardware and the location technologies that are currently available. For example, if WiFi is disabled, region monitoring
is significantly less accurate. However, for testing purposes, <strong>you can assume that the minimum distance is approximately 200 meters</strong></em>&quot;.</p>
</blockquote>
</div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="notifyonentry"><code class="tsd-tag">Optional</code><span>notify<wbr/>On<wbr/>Entry</span><a href="#notifyonentry" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">notifyOnEntry</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-comment tsd-typography"><p>Set <code>true</code> to fire event when device <em>enters</em> this geofence.</p>
<p><strong>ℹ️ See also:</strong></p>
<ul>
<li>[[Config.geofenceInitialTriggerEntry]]</li>
</ul>
</div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="notifyonexit"><code class="tsd-tag">Optional</code><span>notify<wbr/>On<wbr/>Exit</span><a href="#notifyonexit" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">notifyOnExit</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-comment tsd-typography"><p>Set <code>true</code> to fire event when device <em>exits</em> this geofence.</p>
</div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="notifyondwell"><code class="tsd-tag">Optional</code><span>notify<wbr/>On<wbr/>Dwell</span><a href="#notifyondwell" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">notifyOnDwell</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-comment tsd-typography"><p>Set <code>true</code> to fire event when device &quot;loiters&quot; within this geofence for <a href="#loiteringdelay" class="tsd-kind-property">loiteringDelay</a> milliseconds.</p>
</div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="loiteringdelay"><code class="tsd-tag">Optional</code><span>loitering<wbr/>Delay</span><a href="#loiteringdelay" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">loiteringDelay</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-comment tsd-typography"><p>Minimum time in <em>milliseconds</em> the device must &quot;loiter&quot; within this geofence before <a href="#notifyondwell" class="tsd-kind-property">notifyOnDwell</a> event fires.</p>
</div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="extras"><code class="tsd-tag">Optional</code><span>extras</span><a href="#extras" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">extras</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span></div><div class="tsd-comment tsd-typography"><p>Arbitrary key-values appended to the geofence event and posted to your configured <a href="HttpConfig.html#url" class="tsd-kind-property">HttpConfig.url</a>.</p>
</div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="vertices"><code class="tsd-tag">Optional</code><span>vertices</span><a href="#vertices" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">vertices</span><span class="tsd-signature-symbol">?:</span> <a href="../types/Vertices.html" class="tsd-signature-type tsd-kind-type-alias">Vertices</a></div><div class="tsd-comment tsd-typography"><p>Optional: a list of vertices (<code>[ [lat, lng],...]</code>) defining a Polygon geofence.  By default, geofences are circular.</p>
<p>ℹ️ <strong><em>Polygon Geofencing</em></strong> is <a href="https://shop.transistorsoft.com/products/polygon-geofencing">sold as a separate add-on</a> (fully functional in <em>DEBUG</em> builds).</p>
<p>When defining a polygon geofence, you do <strong>not</strong> provide <a href="#latitude" class="tsd-kind-property">latitude</a>, <a href="#longitude" class="tsd-kind-property">longitude</a> or <a href="#radius" class="tsd-kind-property">radius</a> — those will be automatically calculated based upon the geometry of the polygon.</p>
<p>The following image shows polygon geofences on a map:</p>
<p><img src="https://dl.dropbox.com/scl/fi/xzf6yau5wcg1az8fy0lbm/geofencing-polygons-on-map.PNG?rlkey=e82h494msbgt8ngu4s2pjwemb&amp;dl=1" alt=""></p>
<p>The <em>blue polygons</em> represent the <em>actual</em> polygon geofences and the containing <em>green circles</em> are traditional circular geofences provided by the native <em>iOS/Android</em> Geofencing APIs.<br>
The background-geolocation SDK automatically calculates the containing, native cirular geofence by solving the <a href="https://en.wikipedia.org/wiki/Smallest-circle_problem"><em>minimum enclosing circle</em></a>
for the given <a href="#vertices" class="tsd-kind-property">vertices</a>.  This is why you do not provide <a href="#latitude" class="tsd-kind-property">latitude</a>, <a href="#longitude" class="tsd-kind-property">longitude</a> and <a href="#radius" class="tsd-kind-property">radius</a>.</p>
<ul>
<li>When the device <em>enters</em> the containing circular geofence, the SDK uses that as a signal that the device is approaching a polygon.  At this moment, the SDK begins aggressively monitoring the location to perform &quot;hit-testing&quot; upon the polygon using a fast algorithm implemented with C++ code.</li>
<li>When the device <em>exits</em> the containing circular geofence, that's the SDK's signal for it to <em>cease</em> monitoring that polygon.</li>
</ul>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-9">Example<a href="#example-9" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="javascript"><span class="hl-2">BackgroundGeolocation</span><span class="hl-1">.</span><span class="hl-8">addGeofence</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">identifier:</span><span class="hl-1"> </span><span class="hl-3">&#39;Home&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">notifyOnEntry:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">notifyOnExit:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">vertices:</span><span class="hl-1"> [</span><br/><span class="hl-1">    [</span><span class="hl-7">45.518947279987714</span><span class="hl-1">, -</span><span class="hl-7">73.6049889209514</span><span class="hl-1">],  </span><span class="hl-9">// &lt;-- [lat, lng]</span><br/><span class="hl-1">    [</span><span class="hl-7">45.5182711292279</span><span class="hl-1">, -</span><span class="hl-7">73.60338649600598</span><span class="hl-1">],</span><br/><span class="hl-1">    [</span><span class="hl-7">45.517082240237634</span><span class="hl-1">, -</span><span class="hl-7">73.60432670908212</span><span class="hl-1">],</span><br/><span class="hl-1">    [</span><span class="hl-7">45.51774871402813</span><span class="hl-1">, -</span><span class="hl-7">73.60604928622278</span><span class="hl-1">]</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<ul>
<li><strong>Entering / exiting a <em>cross-shaped</em> polygon geofence:</strong></li>
</ul>
<p><img src="https://dl.dropbox.com/scl/fi/iorrnrm0zno91jtg0ctse/polygon-geofencing-cross.PNG?rlkey=p4kufqhxgw9jrmuz4vkqisprw&amp;dl=1" alt=""></p>
<ul>
<li><strong>Entering / exiting a park:</strong></li>
</ul>
<p><img src="https://dl.dropbox.com/scl/fi/qvg9n3s5iacje5szgcqfv/polygon-geofencing-parc-outremont.PNG?rlkey=c6iax7a19db2v6xdxf18k2a7k&amp;dl=1" alt=""></p>
<ul>
<li><strong>Entering / exiting a diamond-shaped polygon:</strong></li>
</ul>
<p><img src="https://dl.dropbox.com/scl/fi/29m3xwb7tm0532mthgjfy/polygon-geofencing-diamond.PNG?rlkey=9ucc5hs7460ig7226iutas4cw&amp;dl=1" alt=""></p>
<ul>
<li><strong>Designing a polygon geofence around a park using the demo app:</strong></li>
</ul>
<p><img src="https://dl.dropbox.com/scl/fi/806mxnz9cdfd4ely8uwfe/polygon-geofencing-parc-lafontaine.PNG?rlkey=yrlbfisx8o5itfz6h0d0inel1&amp;dl=1" alt=""></p>
</div></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="entrystate"><code class="tsd-tag">Optional</code> <code class="tsd-tag">Readonly</code><span>entry<wbr/>State</span><a href="#entrystate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">entryState</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-comment tsd-typography"><p>Runtime state:  The current entry-state of the geofence.</p>
<ul>
<li>0 = OUTSIDE</li>
<li>1 = INSIDE</li>
</ul>
<p>⚠️ Readonly</p>
</div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="hits"><code class="tsd-tag">Optional</code> <code class="tsd-tag">Readonly</code><span>hits</span><a href="#hits" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">hits</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-comment tsd-typography"><p>Runtime state:  Number of times this geofence has been triggered.</p>
<p>⚠️ Readonly</p>
</div></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="stateupdatedat"><code class="tsd-tag">Optional</code> <code class="tsd-tag">Readonly</code><span>state<wbr/>Updated<wbr/>At</span><a href="#stateupdatedat" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">stateUpdatedAt</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-comment tsd-typography"><p>Runtime state:  Epoch timestamp (seconds) of last geofence transition.</p>
<p>⚠️ Readonly</p>
</div></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#identifier"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>identifier</span></a><a href="#latitude"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>latitude</span></a><a href="#longitude"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>longitude</span></a><a href="#radius"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>radius</span></a><a href="#notifyonentry"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>notify<wbr/>On<wbr/>Entry</span></a><a href="#notifyonexit"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>notify<wbr/>On<wbr/>Exit</span></a><a href="#notifyondwell"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>notify<wbr/>On<wbr/>Dwell</span></a><a href="#loiteringdelay"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>loitering<wbr/>Delay</span></a><a href="#extras"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>extras</span></a><a href="#vertices"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>vertices</span></a><a href="#entrystate"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>entry<wbr/>State</span></a><a href="#hits"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>hits</span></a><a href="#stateupdatedat"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>state<wbr/>Updated<wbr/>At</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html">react-native-background-geolocation@5.0.0-beta.1</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
